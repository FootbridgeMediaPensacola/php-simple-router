var $jscomp={scope:{},findInternal:function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,f=0;f<d;f++){var h=a[f];if(b.call(c,h,f,a))return{i:f,v:h}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var f=a[d];f in c||(c[f]={});c=c[f]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6-impl","es3");var acceptedImages=["image/svg+xml","image/jpeg","image/png"],droppedImage;function renderNewTag(a){var b=$("#tag-template").clone().removeClass("d-none").removeAttr("id");b.find("input").val(a);b.find(".tag-content").html(a);b.find(".delete-icon").on("click",function(){b.remove()});b.insertBefore($("#upload-image-tags"))}
function removePreviousTag(){var a=$("#upload-tags-container .image-tag-input-box").last();0<a.length&&a.remove()}$(".fake-textarea").on("click",function(a){a.target!==this&&"upload-tags-container"!=$(a.target).attr("id")||$("#upload-image-tags").focus()});$("#upload-image-tags").on("keydown",function(a){var b=$(this).val().trim();","===a.key||13==a.keyCode?(a.preventDefault(),0<b.length&&($(this).val(""),renderNewTag(b))):8===a.which&&""===b.trim()&&removePreviousTag()});
function handleFileUpload(a,b){var c=new FileReader,d=$("#image-error");d.addClass("d-none");c.addEventListener("load",function(){var b=c.result,d=new Image,g="Unknown";$(".upload-image-preview").attr("src",b);d.onload=function(){var a=d.height,b=d.width;$("#image-file-dimensions").html(b+"x"+a);var c=parseInt($(".upload-image-preview").width(),10),a=a/b*c;$(".upload-image-preview").height(a)};d.src=b;switch(a.type){case "image/svg+xml":g="SVG";break;case "image/jpeg":g="JPEG";break;case "image/png":g=
"PNG"}$("#image-file-type").html(g)});a&&(console.log(a),$(".upload-image-preview").width("200").height("200").attr("src","/Assets/images/loader.svg"),-1==acceptedImages.indexOf(a.type)?(d.removeClass("d-none").html("Invalid file type. Allowed file types are "+acceptedImages.join(", ")),$(".upload-image-preview").removeAttr("src")):a.size<$("#max-upload-bytes").val()?(droppedImage=!0===b?a:void 0,setTimeout(function(){c.readAsDataURL(a)},500)):(d.removeClass("d-none").html("File size exceeds maximum upload limit."),
$(".upload-image-preview").removeAttr("src")))}$("#upload-image-file").on("change",function(a){handleFileUpload(this.files[0],!1)});$(document).on("dragover dragenter",function(a){console.log(a);a=a.originalEvent.dataTransfer;a.types&&(a.types.indexOf?-1!=a.types.indexOf("Files"):a.types.contains("Files"))&&$("#upload-image-modal").modal("show")});$(window).on("drop dragover",function(){e.preventDefault();return!1},!1);
$(document).on("drop",function(a){console.log(a);var b=a.originalEvent.dataTransfer;b.types&&(b.types.indexOf?-1!=b.types.indexOf("Files"):b.types.contains("Files"))&&(a.preventDefault(),a.stopPropagation(),handleFileUpload(a.originalEvent.dataTransfer.files[0],!0));return!1});
$("#upload-image-form").on("submit",function(a){a.preventDefault();a=new FormData(this);droppedImage&&a.set("uploaded-image",droppedImage);$.ajax({type:"post",url:"/Controllers/uploadImage.php",data:a,cache:!1,contentType:!1,processData:!1,success:function(a){}});console.log(a)});
